<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jens von Bergmann">
<meta name="author" content="Nathan Lauster">
<meta name="dcterms.date" content="2023-08-17">
<meta name="description" content="Existing households are partially outcomes of our housing pressures, and basing analysis soley on households introduces collider bias. Which is substantial in tight housing markets and this misspecification can lead to misguided analysis and faulty policy recommendations.">

<title>Mountain Doodles - Housing Outcomes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/plain" cookie-consent="tracking">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-54516567-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Mountain Doodles - Housing Outcomes">
<meta property="og:description" content="Existing households are partially outcomes of our housing pressures, and basing analysis soley on households introduces collider bias. Which is substantial in tight housing markets and this misspecification can lead to misguided analysis and faulty policy recommendations.">
<meta property="og:image" content="https://doodles.mountainmath.ca/posts/2023-08-17-housing-outcomes/index_files/figure-html/hmr_age_group-1.png">
<meta property="og:site_name" content="Mountain Doodles">
<meta property="og:image:height" content="1800">
<meta property="og:image:width" content="2400">
<meta name="twitter:title" content="Mountain Doodles - Housing Outcomes">
<meta name="twitter:description" content="Existing households are partially outcomes of our housing pressures, and basing analysis soley on households introduces collider bias. Which is substantial in tight housing markets and this misspecification can lead to misguided analysis and faulty policy recommendations.">
<meta name="twitter:image" content="https://doodles.mountainmath.ca/posts/2023-08-17-housing-outcomes/index_files/figure-html/hmr_age_group-1.png">
<meta name="twitter:creator" content="@vb_jens">
<meta name="twitter:image-height" content="1800">
<meta name="twitter:image-width" content="2400">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar docked nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../mm_stamp_small.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Mountain Doodles</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../archive.html"> 
<span class="menu-text">Archive</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mountainMath/mountain_doodles"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link active" href="https://twitter.com/vb_jens" aria-current="page"> <i class="bi bi-twitter" role="img" aria-label="Twitter">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/vb-jens/"> <i class="bi bi-linkedin" role="img" aria-label="LinkedIn">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:jens.mountainmath.ca"> <i class="bi bi-envelope-at-fill" role="img" aria-label="Email">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img" aria-label="RSS">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Housing Outcomes</li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Housing Outcomes</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source" data-quarto-source-url="https://github.com/mountainMath/mountain_doodles/blob/main/posts/2023-08-17-housing-outcomes/index.markdown"><i class="bi"></i></button></div></div>
                  <div>
        <div class="description">
          Existing households are partially outcomes of our housing pressures, and basing analysis soley on households introduces collider bias. Which is substantial in tight housing markets and this misspecification can lead to misguided analysis and faulty policy recommendations.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">affordability</div>
                <div class="quarto-category">cansim</div>
                <div class="quarto-category">cmhc</div>
                <div class="quarto-category">cancensus</div>
                <div class="quarto-category">Vancouver</div>
                <div class="quarto-category">Toronto</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-heading">Affiliations</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author">Jens von Bergmann </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              MountainMath
            </p>
        </div>
      <div class="quarto-title-meta-contents">
      <p class="author">Nathan Lauster </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              UBC, Department of Sociology
            </p>
        </div>
    </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 17, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="quarto-sidebar-header"><div class="sidebar-header-item">
<p><strong>Too much data, too little time</strong></p>
</div></div>
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../profile.jpg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/mountainMath" title="" class="quarto-navigation-tool px-1" aria-label="GitHub"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/vb_jens" title="" class="quarto-navigation-tool px-1" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
    <a href="https://www.linkedin.com/in/vb-jens/" title="" class="quarto-navigation-tool px-1" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
    <a href="mailto:jens.mountainmath.ca" title="" class="quarto-navigation-tool px-1" aria-label="Email"><i class="bi bi-envelope-at-fill"></i></a>
</div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Other Canadian data focused blogs:</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://homefreesociology.com" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HomeFreeSociology</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.dshkol.com" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dmitry Shkolnik’s blog</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.simoncoulombe.com" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Simon Coulombe’s blog</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://financesofthenation.ca/category/commentary/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Finances of the Nation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://deny.substack.com" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Deny’s Substack</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://higheredstrategy.com/author/alex/" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Alex Usher’s blog</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>Mountain Doodles is an insomnia driven side project, born out of random questions, trying to give partial answers through data. During daytime at <a href="https://mountainmath.ca">MountainMath</a>.</p>
</div></div></nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p style="text-align:center;">
<i>(Joint with Nathan Lauster and cross-posted at <a href="https://homefreesociology.com/2023/08/17/housing-outcomes/" target="_blank">HomeFreeSociology</a>)</i>
</p>
<p>Almost everyone agrees that we have a housing crisis in Canada, and that it has gotten progressively worse over recent history. But there is a problem. The metrics most commonly used don’t reflect that.</p>
<section id="tldr" class="level2">
<h2 class="anchored" data-anchor-id="tldr">TL;DR</h2>
<p>Most commonly used metrics use <strong>existing households as the base of analysis</strong>, but households are a consequence of housing pressures. This kind of <strong>misspecification</strong> is a form of <strong>collider or selection bias</strong> that, especially in tight housing markets, <strong>misleads researchers toward faulty conclusions and policy recommendations</strong>. It blinds researchers to the struggles of people who are unhappy about their current household living arrangement, like young adults struggling to move out of their parent’s place or out of a bad roommate setup, as well as people who have left their desired region and moved away, or failed to move in, because of the lack of housing options.</p>
<p>This post explains the problem with analysis based solely on households in more detail, and explains why this will lead to incorrect diagnoses of our housing problems and misguided policy recommendations.</p>
</section>
<section id="core-housing-need" class="level2">
<h2 class="anchored" data-anchor-id="core-housing-need">Core Housing Need</h2>
<p>The most-cited metric in the context of problems in the housing market in Canada is <a href="https://www23.statcan.gc.ca/imdb/p3Var.pl?Function=DEC&amp;Id=1230313">Core Housing Need</a>. But looking at the share of households in core housing need for the 2006 through 2021 censuses one would be hard-pressed to conclude that Core Housing Need got worse.</p>
<p><img src="index_files/figure-html/chn_canada_time-1.png" width="1200"></p>
<p>2021 was a weird year, of course, and the CERB payments from 2020 likely lifted a lot of people out of Core Housing Need, so we should not focus too much on that drop. But even before the pandemic it seems difficult to argue that Core Housing Need got worse, despite almost everyone agreeing that housing outcomes deteriorated during that time period.</p>
<p>But housing is a local problem, maybe things get washed out when looking at the national level? Turning our lens to local levels doesn’t really change much. Looking at Census Metropolitan Areas we still don’t see a clear trend indicating rising levels of housing need. More often we see the opposite.</p>
<p><img src="index_files/figure-html/chn_cma_time-1.png" width="1200"></p>
<p>Metro Toronto and Vancouver stand out as higher than other metros, as we might expect, but it doesn’t look like things are getting worse. Maybe the problem is not with the whole metro areas but with the central cities. But again, it’s hard to make out a negative trend. Just looking at Core Housing Need, a naive observer might assume that conditions are pretty stable, with need on the decline in many places. Housing crisis? What housing crisis?</p>
<p><img src="index_files/figure-html/chn_city_time-1.png" width="1200"></p>
<p>Does that mean that things actually aren’t getting worse? Are we just imagining the housing crisis? No.&nbsp;We are looking at the wrong metrics.</p>
<p>Core Housing Need has long had issues as a metric, as careful analysts have repeatedly pointed out <a href="https://pubmed.ncbi.nlm.nih.gov/20096621/">over the</a> <a href="https://maytree.com/publications/modernizing-core-housing-need/">years</a>. In short, it attempts to establish a housing standard for all of Canada, <a href="https://www.cmhc-schl.gc.ca/professionals/housing-markets-data-and-research/housing-research/core-housing-need">matching existing households to need</a> on the basis of suitably roomy (matched to National Occupancy Standards), adequately maintained (good repair), and affordable (shelter costs no more than 30% of income) housing, or affordable alternatives that might meet their needs nearby. To list a few criticisms of the measure:</p>
<style>
ol.alpha {
  counter-reset: list;
}
ol.alpha > li {
  list-style: none;
}
ol.alpha > li:before {
  content: counter(list, lower-alpha) ") ";
  counter-increment: list;
}
</style>
<ol class="alpha">
<li>
affordable alternatives aren’t actually assessed for availability
</li>
<li>
location of housing impacts transportation costs
</li>
<li>
a 30% shelter cost to income cutoff lacks solid justification
</li>
<li>
the metric excludes many households (e.g.&nbsp;students, income lower than shelter cost)
</li>
<li>
shelter costs are inconsistently assessed
</li>
<li>
incomes are temporally mismatched (from previous year) relative to shelter costs (current)
</li>
<li>
adequacy of maintenance (based on self-reported repair) misses important elements
</li>
<li>
suitable roominess (based on Canadian National Occupancy Standards) lacks solid justification
</li>
<li>
existing households might not be preferable arrangements
</li>
<li>
existing households miss in- and out- migration/mobility responses
</li>
</ol>
<p>In short, there is a lot more to housing outcomes than what is currently captured in Core Housing Need.</p>
</section>
<section id="housing-outcomes" class="level1">
<h1>Housing outcomes</h1>
<p>If our current Core Housing Need is inadequate for capturing housing outcomes, then how can it be fixed? Some of the points we listed above have been addressed by others and by ourselves in previous posts. Points a) through h), in particular, could plausibly be addressed by refining the input metrics for Core Housing Need. Points i) and j) are fundamentally different in that they question the base unit of all measurements that go into Core Housing Need: Existing Households.</p>
<p>To understand this better, we start by looking at how people experience housing pressures. From the perspective of individuals navigating a constrained housing market we want to highlight five distinct housing outcomes:</p>
<ol type="1">
<li>(<strong>unaffordability</strong>) People pay more money to access the housing they need than they can afford, living beyond their means or sacrificing other important expenses.</li>
<li>(<strong>unsuitability</strong>) People squish into housing without enough room for their household, sacrificing privacy within the household.</li>
<li>(<strong>inadequacy</strong>) People live in housing that’s inadequately maintained or in bad repair.</li>
<li>(<strong>suppressed households</strong>) People fail to achieve their desired household composition, living with more or different people than they would like to.</li>
<li>(<strong>housing-induced migration</strong>) People move to a different region, either farther away from their jobs, friends, and places of leisure within the same metro area or to an entirely different part of the country.</li>
</ol>
<p>Only the first three channels are captured in some way by the Core Housing Need metric (or the related <a href="https://www.cmhc-schl.gc.ca/blog/2020-housing-observer/new-affordability-metric-assesses-household-ability-afford-basic-goods">Housing Hardship</a> metric) as based on existing households.</p>
<section id="existing-households-are-the-wrong-unit-of-measurement" class="level2">
<h2 class="anchored" data-anchor-id="existing-households-are-the-wrong-unit-of-measurement">Existing households are the wrong unit of measurement</h2>
<p>In most of Canadian data and theorizing, a <em>household</em> <a href="https://www12.statcan.gc.ca/census-recensement/2021/ref/dict/az/definition-eng.cfm?ID=households-menage007">is defined as an <em>occupied dwelling unit</em></a>, although <em>household</em> is often also used as a shorthand for only <a href="https://www12.statcan.gc.ca/census-recensement/2021/ref/dict/az/definition-eng.cfm?ID=households-menage014"><em>private households</em></a>. Households are the outcome of how people distribute over dwellings.</p>
<p><strong>Basing analysis entirely on existing households is selecting on a consequence of the outcome, it introduces selection or collider bias</strong>. This bias is substantial, <a href="https://doodles.mountainmath.ca/blog/2022/10/03/still-short-suppressed-households-in-2021/">the degree to which housing pressures impact household formation are large and growing</a>, and an <strong>existing household-based analysis is blind to suppressed household formation, as well as to the effects of housing on migration</strong>.</p>
<p>To better understand collider bias in this context consider <a href="https://journals.sagepub.com/doi/epub/10.1177/00491241221099552">Model 18 in this excellent monograph on good and bad controls</a>. Alternatively one can interpret selecting on households that have formed as <a href="https://en.wikipedia.org/wiki/Survivorship_bias">survivorship bias</a> that ignores households that would have formed if housing pressures were different. This also highlights why it is necessary to choose counter-factual scenarios of different housing pressures. For market housing these counter-factual scenarios should be chosen to be realistically achievable, by for example <a href="https://doodles.mountainmath.ca/blog/2022/05/06/estimating-suppressed-household-formation/">comparing with regions with different housing policies but similiar economic and demographic environments</a>, or by <a href="https://doodles.mountainmath.ca/blog/2023/06/27/housing-targets/">estimating how much housing the market would produce if municipal regulations preventing housing were removed</a>. Non-market housing counter-factual scenarios should similarly work toward being achievable in order to be taken seriously, and, when interpreted from a rights based approach, set in relation to housing outcomes achievable in market housing.</p>
<p>On a personal level, housing pressures are experienced through unaffordability when people or families can’t afford housing that fits their needs, be it proximity to jobs and amenities, or size and number of bedrooms. <strong>But their inability to afford said housing generally won’t show up in Core Housing Need because in most cases they don’t actually move into the housing they can’t afford.</strong> The same principle generally applies to waitlisting for non-market housing.</p>
<p>That’s all quite abstract, let’s unpack this a little.</p>
<p>Take a roommate household made up of four roommates, where two people have coupled up. The couple would like to move out into their own place, but they can’t find a place within their budget that’s reasonably close to their jobs. So they stay in their roommate situation. They may be delaying their plans to have kids until they find a better housing situation that they feel secure about, and maybe has an extra bedroom to accommodate their future child. They are not in core housing need because the combined household income of all four roommates easily covers rent and utilities, but they do feel like their housing needs aren’t being met and it’s forcing them to adjust life plans. This kind of household would be classified as a <em>one-census family household with additional persons</em>, and across Canada there are around 666,000 of these, 493,000 of which have children present.</p>
<p>To take a different example, the <a href="https://www.cbc.ca/news/canada/divorce-housing-challenges-canada-1.6926859">CBC recently ran a piece</a> on how former couples wishing to separate or divorce increasingly find themselves forced to either continue living together or move in with friends and relatives. This clearly relates to the rising difficulty of finding housing. But the Core Housing Need measure sees no problem with these situations, at least as long as there’s a spare bedroom satisfying the National Occupancy Standard criteria for uncoupled adults. The issues are further compounded when children are involved in split households, insofar as the need for roominess grows, and in joint custody cases, may even double. But unsurprisingly, the Core Housing Need metric also ignores custody questions (kids are only supposed to show up once as part of a Census household).</p>
<p>We take this opportunity to update our overview graph <a href="https://doodles.mountainmath.ca/blog/2017/12/01/what-s-a-household/">from a previous post</a> on households by household type and census family structure using 2021 data.</p>
<p><img src="index_files/figure-html/hh_type_2021-1.png" width="1200"></p>
<p>This highlights some of the complexities of households, and how they don’t necessarily map onto family units. In particular we notice how Montréal has comparatively few complex households.</p>
</section>
<section id="minimum-household-units" class="level2">
<h2 class="anchored" data-anchor-id="minimum-household-units">Minimum Household Units</h2>
<p>If households aren’t the right unit of analysis, then what is? We have <a href="https://doodles.mountainmath.ca/blog/2021/11/28/first-peek-at-population-and-household-data-during-covid-caveats/">discussed and compared different conceptualizations of what constitutes a basic unit in the past</a>, including the OECD definition of a household that StatCan uses within their National Accounts framework, as well as one looking at census (or economic) families and unattached individuals that we already highlighted in our <a href="https://doodles.mountainmath.ca/blog/2017/12/01/what-s-a-household/">post on households</a>. But even non-divorcing census families might feel the need to split up, for example if they contain adult children living with parents who might want to move out but can’t find suitable housing.</p>
<p><a href="https://www.tandfonline.com/doi/pdf/10.1080/0032472031000141266">Ermisch and Overton introduced the concept of Minimal Household Units (MHU)</a> to better understand household formation. The idea is to define elemental building blocks of households, which may combined to form “complex” households. They start with single adults, parent-child, and couple relationships where we typically assume people want to live together, leaving four basic building blocks for households as:</p>
<ol type="1">
<li>Adult individuals</li>
<li>Lone parents with dependent children</li>
<li>Childless married (or common law) couples</li>
<li>Married (or common law) couples with dependent children</li>
</ol>
<p>This leaves out some complexities (e.g <a href="https://www150.statcan.gc.ca/n1/en/pub/75-006-x/2013001/article/11771-eng.pdf">Living Apart Together setups</a> where couples want to remain couples, but live separately), but is simple and works well for the purpose of analyzing household formation and affordability in the context of housing. The assumption is basically that household complexity beyond MHU is likely influenced (though not completely determined) by housing scarcity, revealing a portion of people living together who might prefer to live apart.</p>
<p>Looking up at our graphs on household composition by age we note that the blue households approximate minimum household units, with the exception that some of them have adult children living at home. To better understand this we focus on 25 to 34 year olds and examine what share of them live in MHUs vs complex households, and how this has changed through time and across geographies.</p>
<p><img src="index_files/figure-html/mhu_type-1.png" width="1200"></p>
<p>We notice overall declining trends in the total proportion of 25 to 34 year olds in MHUs, and substantially lower shares in Toronto and Vancouver compared to the other large CMAs. Vancouver has higher shares of childless couples than Toronto, but lower shares of couples with children. By contrast, Montréal has the highest proportion of 25 to 34 year olds living within MHUs, driven largely by more people living alone and part of couples with children (though the latter is still on the decline). In the 35 to 44 year old age groups we still notice slightly declining trends in some CMAs, and again lower levels in Toronto and Vancouver. Once more, Montréal has the highest proportion of 35 to 44 year olds living in MHU.</p>
<p>If young adults aren’t living in MHUs, how do they live? Here are the living arrangements of the remaining young adults.</p>
<p><img src="index_files/figure-html/non_mhu_type-1.png" width="1200"></p>
<p>There’s no single category dominating trends or differences. The proportion of young adults living as roommates went down in Calgary, but up in Vancouver and Toronto. The proportion living in complicated family arrangements also generally rose. Compared to other metros, Toronto and Vancouver have higher shares in all categories, except people living in census families with additional persons and roommate households. The high share of people living with their parents stands out in these two metros, but also a higher share of multi-generational households. Of note, the share in multi-generational households has been declining for 25 to 34 year olds over this time period for Vancouver and Toronto, and it declined 2016-2021 for the 35 to 44 year old group, while most other categories increased. In particular, the increases in young adults in non-MHUs in Toronto and Vancouver cannot be attributed to multi-generational living arrangements.</p>
<p>Unfortunately we don’t have this data at finer age groups; that would require a custom tabulation. But at the expense of not being able to distinguish couple MHUs with or without children, we can use a different table to take a quick look at how overall MHU shares progress through age cohorts over time and across geographies. Housing stress can lead to couples feeling <a href="https://journals.library.ualberta.ca/csp/index.php/csp/article/view/16051">without enough room</a> or <a href="https://www.tandfonline.com/doi/abs/10.1080/02673031003711485">otherwise unprepared for children</a>, so it’s unfortunate we lose an indicator of children for couples. On the bright side, the data allow us to make different interesting distinctions between married and common-law couples and add in the 20 to 24 year old age group.</p>
<p><img src="index_files/figure-html/children_family_mhu-1.png" width="1200"></p>
<p>Stepping up through age groups we see progressively higher shares of young adults living in MHU, as one would expect. However, within each age group the shares of young adults in MHUs has decreased over time, and there is large variation across metro areas. These trends aren’t all due to housing pressures, they get confounded by young adults spending more time in school and possibly by shifts in preferences, including by culture, but it seems far-fetched to attribute most of the variation across time and metro areas to this. Indeed, one of the most notable cultural differences appears in the distinction between common-law partnerships, which are far more common within Montréal (and across Quebec), and marriage, which has been more common elsewhere. The difference between common-law and marriage doesn’t matter for purposes of assigning people into MHU, but the relative decline of marriage is in keeping with Canada’s entry into the Second Demographic Transition, and given the <a href="https://www.tandfonline.com/doi/abs/10.1080/02673030600917826">connections between marriage with home ownership</a>, it’s striking that married couples are the category most strongly driving the decline in MHU for young adults everywhere.</p>
<p>Overall across Canada 52% of adults aged 20 to 34 lived in MHUs in 2021, down from 54% in 2016 and 56% in 2011. In contrast with Core Housing Need, here’s a clearer indicator of conditions getting worse over Canada’s recent history. How did those outside of MHUs live? What was the makeup of their complex households?</p>
<p><img src="index_files/figure-html/children_family_non_mhu-1.png" width="1200"></p>
<p>We see a striking rise in young adults outside of MHUs, especially those living with their parents or other family members. Toronto and Vancouver also stand out in this regard. There are several factors playing into temporal and regional patterns, but housing pressures are likely the most important driver. Yet metrics based on existing households, like Core Housing Need, will systematically overlook this kind of evidence of housing pressure.</p>
</section>
<section id="household-maintainer-rates" class="level2">
<h2 class="anchored" data-anchor-id="household-maintainer-rates">Household maintainer rates</h2>
<p>Another way to think about this kind of housing pressure is to look at age-specific household maintainer rates, and how these differ across geographies and time. We have <a href="https://doodles.mountainmath.ca/blog/2022/10/03/still-short-suppressed-households-in-2021/">looked at this previously</a> and documented how Montréal, Toronto, and Vancouver used to have fairly similar household maintainer rates in the 70s. But while Montréal’s rates have remained relatively stable, Vancouver and Toronto have seen significant drops in household maintainer rates, especially among younger adults, as illustrated in the following graph.</p>
<p><img src="index_files/figure-html/hmr_age_group-1.png" width="1200"></p>
<p>This remains a static picture, providing cross-sections of the overall state of the population in the given years. We can make this more dynamic by following fixed birth cohorts over time to see how their household maintainer rates change as they age. Comparing across birth cohorts gives us a better sense of generational change in household maintainer rates. Of note, we don’t have full data over the 50 years covered in this graph, so some of the trajectories are only partial.</p>
<p><img src="index_files/figure-html/hmr_birth_cohort-1.png" width="1200"></p>
<p>In Montréal successive birth cohorts trace out similar trajectories, eclipsing the 1931 through 1945 cohorts but then not changing much starting with the 1946-1950 birth cohort. But in Toronto and Vancouver younger cohorts are experiencing significantly lower household formation rates compared to previous generations that persist as people age into their 40s.</p>
<p>Another way to slice the data is to look at how many years households in Toronto and Vancouver lag relative to Montréal’s 1956-1960 birth cohort, selecting an age cohort fully covered in our window of observation.</p>
<p><img src="index_files/figure-html/hmr_cohort_year_lag-1.png" width="1200"></p>
<p>Here we see how Toronto and Vancouver are lagging behind their Montréal peers when it comes to forming and maintaining a household, with millennial and GenX households lagging by over 10 years by the time they reach 40. In other words, Millennials and GenX household formation rates by the time they reach 40 in Vancouver and Toronto are about equivalent to what their peers in Montréal reached in their late 20s.</p>
<p>We have interpreted this as <a href="https://doodles.mountainmath.ca/blog/2022/10/03/still-short-suppressed-households-in-2021/">suppressed household formation</a> and a partial measure of housing shortfall. While we believe that this interpretation is generally correct, a potential alternative interpretation is that this trend <a href="https://doodles.mountainmath.ca/blog/2022/05/06/estimating-suppressed-household-formation/">may be explained by different cultural preferences, which we’ve also attempted to quantify</a>, and further work on this would be useful. Nonetheless, we believe that estimates of suppressed households offer a useful metric to assess housing shortages.</p>
</section>
<section id="household-tightness" class="level2">
<h2 class="anchored" data-anchor-id="household-tightness">Household tightness</h2>
<p>Specifying the role that housing plays in our suppressed household measure is hard to pin down. But we can look at related metrics of housing outcomes to see if there’s more evidence of squeeze. Maybe it’s not there. People could be sharing more often because there’s lots of room to do so. Imagine we have a large reservoir of big houses, and people choose to form more complex households as the average household size of MHUs has been declining over time due to dropping fertility rates, people coupling up later, and people living longer.</p>
<p>Ideally we would want to look at data on how people distribute over floor space, but we simply don’t have reliable floor space data in Canada. The <a href="https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=4610005301">Canadian Housing Statistics Program</a> has some information on living area, but only for select types of housing and only for recent years and not (yet) covering all of Canada. The <a href="https://www.statcan.gc.ca/en/statistical-programs/instrument/3881_Q2_V8">Survey of Household Energy Use</a> has some data on “heated living area” going back to the 1990s, with some aggregate estimates <a href="https://oee.nrcan.gc.ca/corporate/statistics/neud/dpa/menus/sheu/2019/tables.cfm">made available by NRCAN</a>, but it is not clear how these estimates are derived and how reliable they are.</p>
<p>Another way to understand how cramped or roomy living situations are is to look at the number of rooms available by household size. The census keeps track of the <a href="https://www12.statcan.gc.ca/census-recensement/2021/ref/dict/az/Definition-eng.cfm?ID=dwelling-logements012">number of rooms in a dwelling unit</a> as well as household size, giving us long timelines to work with. This still poses some challenges insofar as people’s preferences for how to slice up homes have changed too, with for example people sometimes tearing down interior walls, e.g.&nbsp;between dining room and living room, when remodelling. This results in fewer rooms, but the home is still as “roomy” as before. Some of that can be controlled for by comparing across different regions in Canada.</p>
<p>Yet another complication is that real incomes have grown over time, and housing demand increases strongly with income, with <a href="https://www.jstor.org/stable/j.ctv13gvj30">most estimates pegging the demand elasticity of income to be greater than 1</a>. This means that we should expect to see an increase in <em>roominess</em> over time as incomes grow.</p>
<p>Understanding these complications, let’s take a look at the distribution of number of rooms by household size, and how this varies across census years and metro areas.</p>
<p><img src="index_files/figure-html/rooms_timeline-1.png" width="1200"></p>
<p>A lot of data is captured here, and overall this suggests that 2006 was peak “roominess” across Canada, having generally near the maximum number of rooms for a given household size and metro area. Roominess was growing in the period before 2006, and it has been declining since. The decline in roominess is unexpected, given rising real incomes over this time period. This could reflect trends in hardship not well captured by Core Housing Need, but possibly also an increasingly urban population, making trades of room for centrality. At the same time, even this measure may understate the extent of rising hardship. After all, we’re still only counting children in joint custody situations once, and there has been no decline in single parent households or joint custody arrangements accompanying the decline in household roominess. Moreover, the share of homes in Canada not occupied by usual residents was stable (actually declining slightly) over the 2006-2021 time period, indicating that secondary residences or vacation homes are unlikely to have offset this decline in roominess.</p>
<p>The peak in 2006 is also interesting for many reasons, not least of which because of what happened between 2006 and 2011. 2008-2009’s Great Recession and Financial Crisis saw a dramatic drop in the construction of housing. This carried over from the USA into Canada even though our housing prices didn’t drop as much and <a href="https://www.cmhc-schl.gc.ca/professionals/housing-markets-data-and-research/housing-data/data-tables/mortgage-and-debt/canadian-us-mortgage-arrears-foreclosure-rates-archived">we had nowhere near similar foreclosure rates</a>. If, as <a href="https://www.mercatus.org/research/policy-briefs/housing-was-undersupplied-during-great-housing-bubble">Kevin Erdmann makes the case</a>, rising construction rates up to the 2008-2009 crisis were actually justified in the USA, then the case is potentially even stronger for Canada. And we can see the effects of the pullback in building since 2006 on the decreasing roominess of housing relative to household size.</p>
<p><img src="index_files/figure-html/completions-1.png" width="1200"></p>
<p>Raw starts and completions should be interpreted with caution, and do not account for demolitions or changes in CMHC estimation methods. But we can clearly see here the dramatic drop-off in starts after the Financial Crisis, followed by a decline in completions. We can only wonder where Canada would be now in terms of housing had the Crisis not spread North from the USA.</p>
<p>Of course, in addition to historical variation, we’ve also got variation in roominess by region. We can take a closer look at how this compares across metro areas in 2021, and add in variations by tenure.</p>
<p><img src="index_files/figure-html/rooms_tenure-1.png" width="1200"></p>
<p>Here we see that renter households tend to have significantly less room than owner households, aligning with <a href="https://doodles.mountainmath.ca/blog/2019/04/20/a-bedroom-is-a-bedroom/">our previous observation that renter households tend to be larger given a fixed number of bedrooms</a>. Owner households tend to be richer, and richer people consume more housing.</p>
<p>However, this basic fact does not hold when comparing across metro areas. On average people in Vancouver and Toronto have higher incomes and higher wealth than their counterparts in Montreal, but lower levels of roominess. It’s tricky to argue that people in Vancouver and Toronto simply prefer to have fewer rooms than people in other urbanized parts of Canada. This is very likely yet another sign of a housing shortage and people economizing in response to rising prices.</p>
<p>Interestingly, the Core Housing Need metric does incorporate a measure of roominess (suitability, as determined by whether a given household can be understood as fitting into bedrooms according to National Occupancy Standards), but the crudeness of the metric, in conjunction with the alternative affordable housing rule and the taking of existing households as given, all means it doesn’t pick up the decline in household roominess since 2006 or variations in roominess by metro area.</p>
</section>
<section id="migration-impacts" class="level2">
<h2 class="anchored" data-anchor-id="migration-impacts">Migration impacts</h2>
<p>We’ve seen how relying upon existing households for metrics of housing need creates problems insofar as existing residents of a place may wish to distribute themselves differently. But what about non-residents? What about those forced out or never able to arrive?</p>
<p><em>Leaving Vancouver</em> letters seem to have moved from novelty to <a href="https://thetyee.ca/Opinion/2017/10/30/I-Left-Vancouver/">well worn cliche</a> and now to the point where people just move away without the fanfare. Housing always featured prominently in the <em>Leaving Vancouver</em> letters, but motivations are complex and the effects of housing on migration are difficult to identify. For this post we will have to be satisfied with some weak evidence showing that shifts in migration over time are consistent with the idea that housing pressures impact migration paths, but we don’t present enough evidence to claim that housing pressures are the cause of that shift.</p>
<p>We conceptualize housing pressures to impact migration most at the local and regional level, and less so at inter-provincial and international levels. This is consistent with <a href="https://homefreesociology.com/2019/11/24/why-do-people-move-new-data-mysteries-and-fundamental-rights/">“reason for move” data</a>, where housing reasons for move dominate more local levels, but recede as a deciding factor as move distance increases. So here we focus on intra-provincial migration. Are we seeing less net in-migration to Metro Vancouver from other parts of the province than we used to see in the past?</p>
<p><img src="index_files/figure-html/yvr_intraprovincial-1.png" width="1200"></p>
<p>This shows a declining trend in intra-provincial in-migration, and net-migration, and an increasing trend in out-migration between 1999 and 2021, the last year for which we have gross migration data. To better understand these shifts we can look at the difference in age-specific intra-provincial net migration rates at the beginning and the end of our time frame.</p>
<p><img src="index_files/figure-html/yvr_net_intraprovincial_age-1.png" width="1200"></p>
<p>Intra-provincial migration rates have dropped for almost all age groups, but not by the same amount. The drop in net migration rates is most pronounced for young children, neutral for ages starting university (<a href="https://pair.cms.ok.ubc.ca/wp-content/uploads/sites/145/2023/03/UBC-Annual-Enrolment-Report-2022-23.pdf">hello UBC</a>!), and quickly dropping off again for young adults thereafter. Around age 40, the drop-off from 2001/2002 rates reduces, before again dropping below the baseline trend. We might imagine this as reflecting the decline in housing accessibility for young adults, matching a corresponding decline in perceptions of achievable opportunity in Metro Vancouver. By 40, selection effects may have kicked in, with only those who have achieved decent housing outcomes or adjusted to alternatives remaining. This suggests how causal forces within the relationship may flip after age 40, with older home owners increasingly moving out over recent history as a way of cashing in on selling their homes. After the age of 55 the net migration rates once again converge toward the 2001/2002 levels.</p>
<p>The narrative we offer tying intra-provincial migration patterns to housing affordability seems plausible, but requires more research. Moreover, it’s worth keeping in mind that 2021/2022 was still a year where people were responding to the upheavals of the pandemic. Given possible pandemic impacts on migration patterns, we repeat this with 2018/2019 as the final year, which shows very similar patterns, showing that especially young adults are increasingly leaving the region on net, with the exception of people around the age they start university and people around 40 years old.</p>
<p><img src="index_files/figure-html/yvr_net_intraprovincial_age_pre_covid-1.png" width="1200"></p>
<p>These patterns are consistent with the notion that people are leaving the region due to housing pressures, where they leave the region in the ages where family formation happens or they can’t find adequate housing for their growing family. But the link remains weakly established, and it’s not yet tested enough to make clear causal claims. We believe this is a useful area for future research.</p>
</section>
<section id="the-upshot" class="level2">
<h2 class="anchored" data-anchor-id="the-upshot">The upshot</h2>
<p>Existing households within a region are an outcome of housing pressures, and selecting on existing households as the unit for analysis introduces collider bias. We believe this bias is substantial.</p>
<p>Much of Canadian housing discussions focuses on affordability as experienced by existing households. This is understandable because affordability is the main channel through which individuals experience housing pressures. But focusing on existing households as the base metric here can be very misleading. In particular, tracing shelter-cost-to-income ratios over time for the households that manage to form within a region shows little to no worsening in housing affordability. At best, it blinds researchers to a large part of how housing pressures manifest themselves. At worst, it leads to grotesque misdiagnoses arguing that Canada has a sufficient supply of housing (e.g.&nbsp;<a href="https://mailchi.mp/chec-ccrl/build-baby-build-wont-solve-the-housing-crisis?e=4d3dff1ab8">“because Canada puts more people in each home, it requires fewer homes per capita”</a>).</p>
<p>Housing is a central part of everyone’s lives, and Canada’s housing struggles are having increasingly severe impacts on the lives of Canadians. Housing analysis, especially when meant to inform policy, needs to do better at understanding the metrics it uses, how to use them, and the limits of their usefulness.</p>
<p>As usual, the code for this post is <a href="https://github.com/mountainMath/doodles/blob/master/content/posts/2023-08-17-housing-outcomes/index.Rmarkdown">available on GitHub</a> for anyone to reproduce or adapt for their own purposes.</p>
<details>
<summary>
Reproducibility receipt
</summary>
<pre><code>## [1] "2023-08-18 05:42:56 PDT"</code></pre>
<pre><code>## Local:    master /Users/jens/Documents/R/mountaindoodles
## Remote:   master @ origin (https://github.com/mountainMath/doodles.git)
## Head:     [c8f529e] 2023-08-17: housing outcomes post</code></pre>
<pre><code>## R version 4.3.0 (2023-04-21)
## Platform: aarch64-apple-darwin20 (64-bit)
## Running under: macOS Ventura 13.5
## 
## Matrix products: default
## BLAS:   /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib 
## LAPACK: /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.11.0
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## time zone: America/Vancouver
## tzcode source: internal
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] statcanXtabs_0.1.2 cmhc_0.2.6         cansim_0.3.15      cancensus_0.5.6   
##  [5] lubridate_1.9.2    forcats_1.0.0      stringr_1.5.0      dplyr_1.1.2       
##  [9] purrr_1.0.1        readr_2.1.4        tidyr_1.3.0        tibble_3.2.1      
## [13] ggplot2_3.4.2      tidyverse_2.0.0   
## 
## loaded via a namespace (and not attached):
##  [1] sass_0.4.5                utf8_1.2.3               
##  [3] generics_0.1.3            xml2_1.3.4               
##  [5] blogdown_1.18             stringi_1.7.12           
##  [7] hms_1.1.3                 digest_0.6.31            
##  [9] magrittr_2.0.3            timechange_0.2.0         
## [11] evaluate_0.20             grid_4.3.0               
## [13] bookdown_0.34             fastmap_1.1.1            
## [15] jsonlite_1.8.4            httr_1.4.5               
## [17] rvest_1.0.3               fansi_1.0.4              
## [19] scales_1.2.1              jquerylib_0.1.4          
## [21] cli_3.6.1                 rlang_1.1.1              
## [23] munsell_0.5.0             withr_2.5.0              
## [25] cachem_1.0.8              yaml_2.3.7               
## [27] tools_4.3.0               tzdb_0.3.0               
## [29] colorspace_2.1-0          vctrs_0.6.2              
## [31] R6_2.5.1                  git2r_0.32.0             
## [33] lifecycle_1.0.3           pkgconfig_2.0.3          
## [35] pillar_1.9.0              bslib_0.4.2              
## [37] gtable_0.3.3              glue_1.6.2               
## [39] xfun_0.39                 tidyselect_1.2.0         
## [41] rstudioapi_0.14           knitr_1.42               
## [43] htmltools_0.5.5           rmarkdown_2.23           
## [45] mountainmathHelpers_0.1.4 compiler_4.3.0</code></pre>
</details>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@misc{von bergmann2023,
  author = {von Bergmann, Jens and Lauster, Nathan},
  title = {Housing {Outcomes}},
  date = {2023-08-17},
  url = {https://doodles.mountainmath.ca/posts/2023-08-17-housing-outcomes},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-von bergmann2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Bergmann, Jens von, and Nathan Lauster. 2023. <span>“Housing
Outcomes.”</span> <em>MountanDoodles</em> (blog). August 17, 2023. <a href="https://doodles.mountainmath.ca/posts/2023-08-17-housing-outcomes">https://doodles.mountainmath.ca/posts/2023-08-17-housing-outcomes</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/doodles\.mountainmath\.ca");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="mountainmath/mountain_doodles" data-repo-id="R_kgDOLuoDtA" data-category="Blog posts" data-category-id="DIC_kwDOLuoDtM4Cetfc" data-mapping="pathname" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light" data-lang="en" crossorigin="anonymous" data-loading="lazy" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark_dimmed">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>